{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport socket from \"../../socket\";\nimport { AccountContext } from \"../AccountContext\";\nconst useSocketSetup = setFriendList => {\n  _s();\n  const {\n    setUser\n  } = useContext(AccountContext);\n  useEffect(() => {\n    socket.connect();\n    socket.on(\"friends\", friendList => {\n      console.log(friendList);\n      setFriendList(friendList);\n    });\n    socket.on(\"connect_error\", () => {\n      setUser({\n        loggedIn: false\n      });\n    });\n    return () => {\n      socket.off(\"connect_error\");\n    };\n  }, [setUser]);\n};\n_s(useSocketSetup, \"8o46IJKbPuhjx3NMCbW3YYXw9mI=\");\nexport default useSocketSetup;","map":{"version":3,"names":["useContext","useEffect","socket","AccountContext","useSocketSetup","setFriendList","_s","setUser","connect","on","friendList","console","log","loggedIn","off"],"sources":["/home/abhishek/Projects/star-messenger/packages/client/src/components/Home/useSocketSetup.jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport socket from \"../../socket\";\nimport { AccountContext } from \"../AccountContext\";\n\nconst useSocketSetup = (setFriendList) => {\n  const { setUser } = useContext(AccountContext);\n  useEffect(() => {\n    socket.connect();\n    socket.on(\"friends\", (friendList) => {\n      console.log(friendList);\n      setFriendList(friendList);\n    });\n    socket.on(\"connect_error\", () => {\n      setUser({ loggedIn: false });\n    });\n    return () => {\n      socket.off(\"connect_error\");\n    };\n  }, [setUser]);\n};\n\nexport default useSocketSetup;\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,cAAc,QAAQ,mBAAmB;AAElD,MAAMC,cAAc,GAAIC,aAAa,IAAK;EAAAC,EAAA;EACxC,MAAM;IAAEC;EAAQ,CAAC,GAAGP,UAAU,CAACG,cAAc,CAAC;EAC9CF,SAAS,CAAC,MAAM;IACdC,MAAM,CAACM,OAAO,CAAC,CAAC;IAChBN,MAAM,CAACO,EAAE,CAAC,SAAS,EAAGC,UAAU,IAAK;MACnCC,OAAO,CAACC,GAAG,CAACF,UAAU,CAAC;MACvBL,aAAa,CAACK,UAAU,CAAC;IAC3B,CAAC,CAAC;IACFR,MAAM,CAACO,EAAE,CAAC,eAAe,EAAE,MAAM;MAC/BF,OAAO,CAAC;QAAEM,QAAQ,EAAE;MAAM,CAAC,CAAC;IAC9B,CAAC,CAAC;IACF,OAAO,MAAM;MACXX,MAAM,CAACY,GAAG,CAAC,eAAe,CAAC;IAC7B,CAAC;EACH,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;AACf,CAAC;AAACD,EAAA,CAfIF,cAAc;AAiBpB,eAAeA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}